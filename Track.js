class Track extends THREE.Mesh {

    constructor() {
        super();
        
        var that = this;

        var loader = new THREE.OBJLoader2();
        loader.loadMtl('src/FullTrack.mtl', null,
            function (materials) {
                loader.setMaterials(materials);
                loader.setLogging(true, true);
                loader.load('src/Fulltrack.obj',
                    function (object) {
                        var modelo = object.detail.loaderRootNode;
                        that.add(modelo);
                    }, null, null, null, false);
            });
        
            this.scale.set(110,110,110);       
    }

    spline() {

        var escala = 110;
        var yAxis = 5;

        var spline = new THREE.CatmullRomCurve3([

            new THREE.Vector3( -0.581841*escala, (0.151374*escala)+yAxis, -1.466418*escala),
            new THREE.Vector3( -0.530919*escala, (0.151374*escala)+yAxis, -1.491239*escala),
            new THREE.Vector3( -0.473851*escala, (0.151374*escala)+yAxis, -1.518598*escala),
            new THREE.Vector3( -0.411905*escala, (0.151374*escala)+yAxis, -1.547598*escala),
            new THREE.Vector3( -0.346348*escala, (0.151374*escala)+yAxis, -1.577346*escala),
            new THREE.Vector3( -0.278450*escala, (0.151374*escala)+yAxis, -1.606946*escala),
            new THREE.Vector3( -0.209477*escala, (0.151374*escala)+yAxis, -1.635502*escala),
            new THREE.Vector3( -0.140699*escala, (0.151374*escala)+yAxis, -1.662122*escala),
            new THREE.Vector3( -0.073383*escala, (0.151374*escala)+yAxis, -1.685908*escala),
            new THREE.Vector3( -0.008798*escala, (0.151374*escala)+yAxis, -1.705966*escala),
            new THREE.Vector3( 0.051789*escala, (0.151374*escala)+yAxis, -1.721402*escala),
            new THREE.Vector3( 0.107109*escala, (0.151374*escala)+yAxis, -1.731319*escala),
            new THREE.Vector3( 0.155894*escala, (0.151374*escala)+yAxis, -1.734824*escala),
            new THREE.Vector3( 0.212901*escala, (0.151374*escala)+yAxis, -1.734848*escala),
            new THREE.Vector3( 0.290930*escala, (0.151374*escala)+yAxis, -1.734914*escala),
            new THREE.Vector3( 0.385775*escala, (0.151374*escala)+yAxis, -1.735013*escala),
            new THREE.Vector3( 0.493233*escala, (0.151374*escala)+yAxis, -1.735138*escala),
            new THREE.Vector3( 0.609099*escala, (0.151374*escala)+yAxis, -1.735280*escala),
            new THREE.Vector3( 0.729170*escala, (0.151374*escala)+yAxis, -1.735430*escala),
            new THREE.Vector3( 0.849240*escala, (0.151374*escala)+yAxis, -1.735580*escala),
            new THREE.Vector3( 0.965107*escala, (0.151374*escala)+yAxis, -1.735722*escala),
            new THREE.Vector3( 1.072564*escala, (0.151374*escala)+yAxis, -1.735847*escala),
            new THREE.Vector3( 1.167410*escala, (0.151374*escala)+yAxis, -1.735946*escala),
            new THREE.Vector3( 1.245438*escala, (0.151374*escala)+yAxis, -1.736012*escala),
            new THREE.Vector3( 1.302445*escala, (0.151374*escala)+yAxis, -1.736036*escala),
            new THREE.Vector3( 1.353498*escala, (0.151374*escala)+yAxis, -1.732632*escala),
            new THREE.Vector3( 1.414356*escala, (0.151374*escala)+yAxis, -1.721685*escala),
            new THREE.Vector3( 1.481851*escala, (0.151374*escala)+yAxis, -1.702090*escala),
            new THREE.Vector3( 1.552814*escala, (0.151374*escala)+yAxis, -1.672743*escala),
            new THREE.Vector3( 1.624078*escala, (0.151374*escala)+yAxis, -1.632539*escala),
            new THREE.Vector3( 1.692475*escala, (0.151374*escala)+yAxis, -1.580374*escala),
            new THREE.Vector3( 1.754838*escala, (0.151374*escala)+yAxis, -1.515143*escala),
            new THREE.Vector3( 1.807998*escala, (0.151374*escala)+yAxis, -1.435742*escala),
            new THREE.Vector3( 1.848788*escala, (0.151374*escala)+yAxis, -1.341067*escala),
            new THREE.Vector3( 1.874040*escala, (0.151374*escala)+yAxis, -1.230013*escala),
            new THREE.Vector3( 1.880586*escala, (0.151374*escala)+yAxis, -1.101476*escala),
            new THREE.Vector3( 1.865258*escala, (0.151374*escala)+yAxis, -0.954352*escala),
            new THREE.Vector3( 1.836907*escala, (0.161772*escala)+yAxis, -0.886967*escala),
            new THREE.Vector3( 1.777303*escala, (0.190429*escala)+yAxis, -0.809552*escala),
            new THREE.Vector3( 1.692091*escala, (0.233540*escala)+yAxis, -0.722557*escala),
            new THREE.Vector3( 1.586918*escala, (0.287299*escala)+yAxis, -0.626436*escala),
            new THREE.Vector3( 1.467431*escala, (0.347901*escala)+yAxis, -0.521639*escala),
            new THREE.Vector3( 1.339276*escala, (0.411540*escala)+yAxis, -0.408618*escala),
            new THREE.Vector3( 1.208100*escala, (0.474411*escala)+yAxis, -0.287826*escala),
            new THREE.Vector3( 1.079548*escala, (0.532710*escala)+yAxis, -0.159714*escala),
            new THREE.Vector3( 0.959268*escala, (0.582629*escala)+yAxis, -0.024733*escala),
            new THREE.Vector3( 0.852906*escala, (0.620364*escala)+yAxis, 0.116663*escala),
            new THREE.Vector3( 0.766108*escala, (0.642110*escala)+yAxis, 0.264024*escala),
            new THREE.Vector3( 0.704521*escala, (0.644061*escala)+yAxis, 0.416898*escala),
            new THREE.Vector3( 0.670674*escala, (0.628213*escala)+yAxis, 0.527258*escala),
            new THREE.Vector3( 0.643261*escala, (0.597394*escala)+yAxis, 0.614616*escala),
            new THREE.Vector3( 0.621163*escala, (0.554719*escala)+yAxis, 0.684126*escala),
            new THREE.Vector3( 0.603262*escala, (0.503307*escala)+yAxis, 0.740941*escala),
            new THREE.Vector3( 0.588441*escala, (0.446272*escala)+yAxis, 0.790216*escala),
            new THREE.Vector3( 0.575580*escala, (0.386731*escala)+yAxis, 0.837104*escala),
            new THREE.Vector3( 0.563563*escala, (0.327801*escala)+yAxis, 0.886760*escala),
            new THREE.Vector3( 0.551270*escala, (0.272597*escala)+yAxis, 0.944337*escala),
            new THREE.Vector3( 0.537584*escala, (0.224237*escala)+yAxis, 1.014989*escala),
            new THREE.Vector3( 0.521387*escala, (0.185835*escala)+yAxis, 1.103870*escala),
            new THREE.Vector3( 0.501560*escala, (0.160509*escala)+yAxis, 1.216133*escala),
            new THREE.Vector3( 0.476986*escala, (0.151374*escala)+yAxis, 1.356933*escala),
            new THREE.Vector3( 0.457873*escala, (0.151374*escala)+yAxis, 1.422878*escala),
            new THREE.Vector3( 0.422863*escala, (0.151374*escala)+yAxis, 1.494418*escala),
            new THREE.Vector3( 0.372924*escala, (0.151374*escala)+yAxis, 1.568767*escala),
            new THREE.Vector3( 0.309023*escala, (0.151374*escala)+yAxis, 1.643141*escala),
            new THREE.Vector3( 0.232130*escala, (0.151374*escala)+yAxis, 1.714753*escala),
            new THREE.Vector3( 0.143211*escala, (0.151374*escala)+yAxis, 1.780818*escala),
            new THREE.Vector3( 0.043236*escala, (0.151374*escala)+yAxis, 1.838551*escala),
            new THREE.Vector3( -0.066827*escala, (0.151374*escala)+yAxis, 1.885166*escala),
            new THREE.Vector3( -0.186011*escala, (0.151374*escala)+yAxis, 1.917878*escala),
            new THREE.Vector3( -0.313348*escala, (0.151374*escala)+yAxis, 1.933901*escala),
            new THREE.Vector3( -0.447869*escala, (0.151374*escala)+yAxis, 1.930449*escala),
            new THREE.Vector3( -0.588606*escala, (0.151374*escala)+yAxis, 1.904738*escala),
            new THREE.Vector3( -0.884194*escala, (0.151374*escala)+yAxis, 1.776403*escala),
            new THREE.Vector3( -1.051511*escala, (0.151374*escala)+yAxis, 1.591457*escala),
            new THREE.Vector3( -1.107355*escala, (0.151374*escala)+yAxis, 1.361570*escala),
            new THREE.Vector3( -1.068526*escala, (0.151374*escala)+yAxis, 1.098412*escala),
            new THREE.Vector3( -0.951820*escala, (0.151374*escala)+yAxis, 0.813653*escala),
            new THREE.Vector3( -0.774037*escala, (0.151374*escala)+yAxis, 0.518961*escala),
            new THREE.Vector3( -0.551975*escala, (0.151374*escala)+yAxis, 0.226007*escala),
            new THREE.Vector3( -0.302433*escala, (0.151374*escala)+yAxis, -0.053541*escala),
            new THREE.Vector3( -0.042208*escala, (0.151374*escala)+yAxis, -0.308012*escala),
            new THREE.Vector3( 0.211900*escala, (0.151374*escala)+yAxis, -0.525737*escala),
            new THREE.Vector3( 0.443094*escala, (0.151374*escala)+yAxis, -0.695045*escala),
            new THREE.Vector3( 0.634574*escala, (0.151374*escala)+yAxis, -0.804268*escala),
            new THREE.Vector3( 0.716175*escala, (0.151374*escala)+yAxis, -0.841553*escala),
            new THREE.Vector3( 0.789126*escala, (0.151374*escala)+yAxis, -0.875894*escala),
            new THREE.Vector3( 0.853673*escala, (0.151374*escala)+yAxis, -0.908037*escala),
            new THREE.Vector3( 0.910064*escala, (0.151374*escala)+yAxis, -0.938728*escala),
            new THREE.Vector3( 0.958546*escala, (0.151374*escala)+yAxis, -0.968711*escala),
            new THREE.Vector3( 0.999368*escala, (0.151374*escala)+yAxis, -0.998732*escala),
            new THREE.Vector3( 1.032775*escala, (0.151374*escala)+yAxis, -1.029536*escala),
            new THREE.Vector3( 1.059017*escala, (0.151374*escala)+yAxis, -1.061869*escala),
            new THREE.Vector3( 1.078339*escala, (0.151374*escala)+yAxis, -1.096476*escala),
            new THREE.Vector3( 1.090991*escala, (0.151374*escala)+yAxis, -1.134102*escala),
            new THREE.Vector3( 1.097218*escala, (0.151374*escala)+yAxis, -1.175493*escala),
            new THREE.Vector3( 1.097269*escala, (0.151374*escala)+yAxis, -1.221393*escala),
            new THREE.Vector3( 1.091391*escala, (0.154283*escala)+yAxis, -1.269401*escala),
            new THREE.Vector3( 1.079831*escala, (0.162326*escala)+yAxis, -1.316661*escala),
            new THREE.Vector3( 1.062838*escala, (0.174477*escala)+yAxis, -1.363239*escala),
            new THREE.Vector3( 1.040658*escala, (0.189707*escala)+yAxis, -1.409202*escala),
            new THREE.Vector3( 1.013538*escala, (0.206992*escala)+yAxis, -1.454616*escala),
            new THREE.Vector3( 0.981727*escala, (0.225303*escala)+yAxis, -1.499547*escala),
            new THREE.Vector3( 0.945472*escala, (0.243614*escala)+yAxis, -1.544061*escala),
            new THREE.Vector3( 0.905020*escala, (0.260898*escala)+yAxis, -1.588225*escala),
            new THREE.Vector3( 0.860618*escala, (0.276129*escala)+yAxis, -1.632105*escala),
            new THREE.Vector3( 0.812515*escala, (0.288279*escala)+yAxis, -1.675767*escala),
            new THREE.Vector3( 0.760957*escala, (0.296322*escala)+yAxis, -1.719278*escala),
            new THREE.Vector3( 0.706192*escala, (0.299231*escala)+yAxis, -1.762703*escala),
            new THREE.Vector3( 0.648468*escala, (0.296322*escala)+yAxis, -1.808450*escala),
            new THREE.Vector3( 0.588032*escala, (0.288279*escala)+yAxis, -1.858137*escala),
            new THREE.Vector3( 0.525131*escala, (0.276129*escala)+yAxis, -1.910654*escala),
            new THREE.Vector3( 0.460012*escala, (0.260898*escala)+yAxis, -1.964889*escala),
            new THREE.Vector3( 0.392924*escala, (0.243614*escala)+yAxis, -2.019731*escala),
            new THREE.Vector3( 0.324114*escala, (0.225303*escala)+yAxis, -2.074068*escala),
            new THREE.Vector3( 0.253829*escala, (0.206992*escala)+yAxis, -2.126789*escala),
            new THREE.Vector3( 0.182317*escala, (0.189707*escala)+yAxis, -2.176782*escala),
            new THREE.Vector3( 0.109825*escala, (0.174477*escala)+yAxis, -2.222935*escala),
            new THREE.Vector3( 0.036600*escala, (0.162326*escala)+yAxis, -2.264137*escala),
            new THREE.Vector3( -0.037110*escala, (0.154283*escala)+yAxis, -2.299277*escala),
            new THREE.Vector3( -0.111057*escala, (0.151374*escala)+yAxis, -2.327243*escala),
            new THREE.Vector3( -0.184994*escala, (0.151374*escala)+yAxis, -2.350126*escala),
            new THREE.Vector3( -0.258674*escala, (0.151374*escala)+yAxis, -2.370692*escala),
            new THREE.Vector3( -0.331850*escala, (0.151374*escala)+yAxis, -2.388843*escala),
            new THREE.Vector3( -0.404273*escala, (0.151374*escala)+yAxis, -2.404477*escala),
            new THREE.Vector3( -0.475696*escala, (0.151374*escala)+yAxis, -2.417495*escala),
            new THREE.Vector3( -0.545872*escala, (0.151374*escala)+yAxis, -2.427797*escala),
            new THREE.Vector3( -0.614553*escala, (0.151374*escala)+yAxis, -2.435282*escala),
            new THREE.Vector3( -0.681493*escala, (0.151374*escala)+yAxis, -2.439852*escala),
            new THREE.Vector3( -0.746442*escala, (0.151374*escala)+yAxis, -2.441405*escala),
            new THREE.Vector3( -0.809155*escala, (0.151374*escala)+yAxis, -2.439842*escala),
            new THREE.Vector3( -0.869384*escala, (0.151374*escala)+yAxis, -2.435062*escala),
            new THREE.Vector3( -0.926880*escala, (0.151374*escala)+yAxis, -2.426967*escala),
            new THREE.Vector3( -1.284459*escala, (0.151374*escala)+yAxis, -2.355186*escala),
            new THREE.Vector3( -1.612595*escala, (0.151374*escala)+yAxis, -2.270968*escala),
            new THREE.Vector3( -1.910785*escala, (0.151374*escala)+yAxis, -2.176063*escala),
            new THREE.Vector3( -2.178525*escala, (0.151374*escala)+yAxis, -2.072217*escala),
            new THREE.Vector3( -2.415309*escala, (0.151374*escala)+yAxis, -1.961179*escala),
            new THREE.Vector3( -2.620634*escala, (0.151374*escala)+yAxis, -1.844697*escala),
            new THREE.Vector3( -2.793994*escala, (0.151374*escala)+yAxis, -1.724518*escala),
            new THREE.Vector3( -2.934886*escala, (0.151374*escala)+yAxis, -1.602392*escala),
            new THREE.Vector3( -3.042805*escala, (0.151374*escala)+yAxis, -1.480066*escala),
            new THREE.Vector3( -3.117246*escala, (0.151374*escala)+yAxis, -1.359288*escala),
            new THREE.Vector3( -3.157705*escala, (0.151374*escala)+yAxis, -1.241805*escala),
            new THREE.Vector3( -3.163678*escala, (0.151374*escala)+yAxis, -1.129367*escala),
            new THREE.Vector3( -3.137957*escala, (0.150825*escala)+yAxis, -0.998419*escala),
            new THREE.Vector3( -3.091908*escala, (0.149307*escala)+yAxis, -0.890629*escala),
            new THREE.Vector3( -3.027354*escala, (0.147015*escala)+yAxis, -0.804856*escala),
            new THREE.Vector3( -2.946115*escala, (0.144141*escala)+yAxis, -0.739958*escala),
            new THREE.Vector3( -2.850015*escala, (0.140880*escala)+yAxis, -0.694796*escala),
            new THREE.Vector3( -2.740871*escala, (0.137425*escala)+yAxis, -0.668228*escala),
            new THREE.Vector3( -2.620508*escala, (0.133970*escala)+yAxis, -0.659113*escala),
            new THREE.Vector3( -2.490745*escala, (0.130709*escala)+yAxis, -0.666310*escala),
            new THREE.Vector3( -2.353405*escala, (0.127835*escala)+yAxis, -0.688679*escala),
            new THREE.Vector3( -2.210307*escala, (0.125542*escala)+yAxis, -0.725078*escala),
            new THREE.Vector3( -2.063274*escala, (0.124025*escala)+yAxis, -0.774366*escala),
            new THREE.Vector3( -1.914126*escala, (0.123476*escala)+yAxis, -0.835403*escala),
            new THREE.Vector3( -1.759417*escala, (0.124025*escala)+yAxis, -0.904916*escala),
            new THREE.Vector3( -1.605143*escala, (0.125542*escala)+yAxis, -0.975495*escala),
            new THREE.Vector3( -1.453555*escala, (0.127835*escala)+yAxis, -1.045896*escala),
            new THREE.Vector3( -1.306905*escala, (0.130709*escala)+yAxis, -1.114876*escala),
            new THREE.Vector3( -1.167448*escala, (0.133970*escala)+yAxis, -1.181193*escala),
            new THREE.Vector3( -1.037435*escala, (0.137425*escala)+yAxis, -1.243603*escala),
            new THREE.Vector3( -0.919120*escala, (0.140880*escala)+yAxis, -1.300864*escala),
            new THREE.Vector3( -0.814754*escala, (0.144141*escala)+yAxis, -1.351732*escala),
            new THREE.Vector3( -0.726590*escala, (0.147015*escala)+yAxis, -1.394965*escala),
            new THREE.Vector3( -0.656882*escala, (0.149307*escala)+yAxis, -1.429318*escala),
            new THREE.Vector3( -0.607881*escala, (0.150825*escala)+yAxis, -1.453551*escala),
        ])

        return spline;
    }
}